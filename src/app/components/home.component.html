<div class="home-container">
  <!-- Header -->
  <div class="header">
    <h1>German B1 Flashcards</h1>
    <p class="subtitle">Master your German vocabulary with interactive flashcards</p>
  </div>

  <!-- Main Actions -->
  <div class="main-actions">
    <button class="primary-btn" routerLink="/flashcards">
      <span class="btn-icon">🎯</span>
      <span class="btn-text">Start Session ({{ sessionConfig.cardsPerSession }} cards)</span>
    </button>
    
    <button class="settings-btn" (click)="toggleSessionSettings()">
      <span class="btn-icon">⚙️</span>
      <span class="btn-text">Session Settings</span>
    </button>
    
    <div class="secondary-actions">
      <button class="secondary-btn" routerLink="/words">
        <span class="btn-icon">📊</span>
        <span class="btn-text">View Progress</span>
      </button>
      
      <button class="secondary-btn" routerLink="/bookmarks">
        <span class="btn-icon">⭐</span>
        <span class="btn-text">Bookmarks ({{ bookmarkedWordsCount }})</span>
      </button>
      
      <!-- Temporary score calculation button -->
      <button 
        class="temporary-btn" 
        (click)="calculateAllScores()"
        [disabled]="isCalculatingScores"
        title="One-time migration: Calculate scores for existing words">
        <span class="btn-icon">🔄</span>
        <span class="btn-text">
          {{ isCalculatingScores ? 'Calculating...' : 'Calculate Scores' }}
        </span>
      </button>
    </div>
  </div>

  <!-- Session Settings Panel -->
  <div class="session-settings" *ngIf="showSessionSettings">
    <h3>Session Configuration</h3>
    
    <div class="setting-group">
      <label for="cardsPerSession">Cards per Session:</label>
      <select id="cardsPerSession" [(ngModel)]="sessionConfig.cardsPerSession">
        <option *ngFor="let option of sessionSizeOptions" [value]="option.value">
          {{ option.label }}
        </option>
      </select>
    </div>

    <div class="setting-group">
      <label for="sessionType">Session Type:</label>
      <select id="sessionType" [(ngModel)]="sessionConfig.sessionType">
        <option *ngFor="let option of sessionTypeOptions" [value]="option.value">
          {{ option.label }}
        </option>
      </select>
    </div>

    <div class="settings-actions">
      <button class="save-btn" (click)="updateSessionConfig()">Save Settings</button>
      <button class="cancel-btn" (click)="toggleSessionSettings()">Cancel</button>
    </div>
  </div>

  <!-- Progress Overview -->
  <div class="progress-section" *ngIf="hasAnyProgress">
    <h2>Your Progress</h2>
    
    <!-- Updated Progress Display -->
    <div class="condensed-progress">
      <div class="progress-item">
        <span class="progress-label">Learned:</span>
        <span class="progress-value learned">{{ learnedWordsCount }} ({{ learnedPercentage }}%)</span>
      </div>
      <div class="progress-item">
        <span class="progress-label">Studied:</span>
        <span class="progress-value studied">{{ studiedWordsCount }} ({{ studiedPercentage }}%)</span>
      </div>
    </div>

    <!-- Updated Recent Activity -->
    <div class="today-session" *ngIf="currentSessionStats.totalWordsStudied > 0">
      <div class="session-header">Recent Activity</div>
      <div class="session-stats">
        <span class="session-stat learned">{{ currentSessionStats.learnedCount }} learned</span>
        <span class="session-stat total">{{ currentSessionStats.studiedCount }} studied</span>
      </div>
    </div>
  </div>

  <!-- No Progress State -->
  <div class="no-progress" *ngIf="!hasAnyProgress">
    <div class="no-progress-icon">📚</div>
    <h3>Ready to start your German learning journey?</h3>
    <p>Click "Start Session" to begin studying B1 German vocabulary with interactive flashcards.</p>
  </div>
</div>
